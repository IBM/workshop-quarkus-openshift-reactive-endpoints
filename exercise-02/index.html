
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="IBM Developer">
      
      
        <link rel="canonical" href="https://ibm.github.io/workshop-quarkus-openshift-reactive-endpoints/exercise-02/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.5">
    
    
      
        <title>Lab 1. Develop Reactive Endpoints - Reactive Endpoints with Quarkus on OpenShift Workshop</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2d9f7617.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,700,700i%7CIBM+Plex+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"IBM Plex Sans";--md-code-font:"IBM Plex Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#exercise-1-develop-reactive-endpoints" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Reactive Endpoints with Quarkus on OpenShift Workshop" class="md-header__button md-logo" aria-label="Reactive Endpoints with Quarkus on OpenShift Workshop" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Reactive Endpoints with Quarkus on OpenShift Workshop
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab 1. Develop Reactive Endpoints
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ibm/workshop-quarkus-openshift-reactive-endpoints/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    workshop-quarkus-openshift-reactive-endpoints
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Reactive Endpoints with Quarkus on OpenShift Workshop" class="md-nav__button md-logo" aria-label="Reactive Endpoints with Quarkus on OpenShift Workshop" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Reactive Endpoints with Quarkus on OpenShift Workshop
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ibm/workshop-quarkus-openshift-reactive-endpoints/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    workshop-quarkus-openshift-reactive-endpoints
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" data-md-state="indeterminate" type="checkbox" id="__nav_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Welcome
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Welcome" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Welcome
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        About the workshop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pre-work/" class="md-nav__link">
        Create your Cloud Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pre-work/CLOUD_ACCOUNT/" class="md-nav__link">
        Access the Cluster
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pre-work/CLOUD_SHELL/" class="md-nav__link">
        Access IBM Cloud Shell
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Workshop
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Workshop" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Workshop
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../exercise-01/" class="md-nav__link">
        Lab 0. Deploy the Application
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Lab 1. Develop Reactive Endpoints
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Lab 1. Develop Reactive Endpoints
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-1-create-quarkus-project" class="md-nav__link">
    Step 1: Create Quarkus Project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-test-the-synchronous-endpoint" class="md-nav__link">
    Step 2: Test the synchronous Endpoint
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-create-classes-article-and-articleresource" class="md-nav__link">
    Step 3: Create Classes Article and ArticleResource
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-test-the-reactive-endpoint" class="md-nav__link">
    Step 4: Test the reactive Endpoint
  </a>
  
    <nav class="md-nav" aria-label="Step 4: Test the reactive Endpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-5-understand-the-basic-implementation" class="md-nav__link">
    Step 5: Understand the basic Implementation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-understand-exception-handling" class="md-nav__link">
    Step 6: Understand Exception Handling
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../exercise-03/" class="md-nav__link">
        Lab 2. Invoke Endpoints Reactively
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../exercise-04/" class="md-nav__link">
        Lab 3. Deploy Service to OpenShift
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../exercise-05/" class="md-nav__link">
        Lab 4. Use Ddistributed Logging
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" data-md-state="indeterminate" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          References
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="References" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" data-md-state="indeterminate" type="checkbox" id="__nav_3_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          Lab Related Videos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Lab Related Videos" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Lab Related Videos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://suedbroecker.net/2020/05/26/how-to-setup-the-reactive-cloud-native-starter-sample-application-on-openshift-in-ibm-cloud" class="md-nav__link">
        Lab 0. How to setup the sample application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://suedbroecker.net/2020/06/10/develop-reactive-endpoints-with-quarkus" class="md-nav__link">
        Lab 1. Develop reactive Endpoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://suedbroecker.net/2020/06/15/invoke-reactive-endpoints-with-quarkus" class="md-nav__link">
        Lab 2. Invoke Endpoints reactively
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://suedbroecker.net/2020/06/17/deploy-a-microservice-to-openshift" class="md-nav__link">
        Lab 3. Deploy Service to OpenShift
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://suedbroecker.net/2020/06/18/use-distributed-logging-for-mircoservices" class="md-nav__link">
        Lab 4. Use distributed Logging
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" data-md-state="indeterminate" type="checkbox" id="__nav_3_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          Additional Resources
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Additional Resources" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Additional Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/IBM/cloud-native-starter/tree/master/reactive#blogs" class="md-nav__link">
        Blog posts related to reactive
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/IBM/workshop-quarkus-openshift-reactive-messaging" class="md-nav__link">
        (Workshop) Reactive Messaging with Quarkus on OpenShift
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/IBM/cloud-native-starter" class="md-nav__link">
        Cloud-Native-Starter project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/IBM/cloud-native-starter/tree/master/reactive" class="md-nav__link">
        Cloud-Native-Starter project reactive
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" data-md-state="indeterminate" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Known Issues
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Known Issues" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Known Issues
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../known-issues/known-issues/" class="md-nav__link">
        Known Issues
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-1-create-quarkus-project" class="md-nav__link">
    Step 1: Create Quarkus Project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-test-the-synchronous-endpoint" class="md-nav__link">
    Step 2: Test the synchronous Endpoint
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-create-classes-article-and-articleresource" class="md-nav__link">
    Step 3: Create Classes Article and ArticleResource
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-test-the-reactive-endpoint" class="md-nav__link">
    Step 4: Test the reactive Endpoint
  </a>
  
    <nav class="md-nav" aria-label="Step 4: Test the reactive Endpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-5-understand-the-basic-implementation" class="md-nav__link">
    Step 5: Understand the basic Implementation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-understand-exception-handling" class="md-nav__link">
    Step 6: Understand Exception Handling
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/ibm/workshop-quarkus-openshift-reactive-endpoints/edit/master/docs/exercise-02/README.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



<h1 id="exercise-1-develop-reactive-endpoints">Exercise 1: Develop reactive Endpoints<a class="headerlink" href="#exercise-1-develop-reactive-endpoints" title="Permanent link">&para;</a></h1>
<p>In this exercise you will learn how to develop reactive endpoints with standard Java functionality via <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html">CompletionStage</a> and <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html">CompletableFuture</a>.</p>
<p>The service that will be created is an easier implementation of the 'Web-API' service as described earlier. In this exercise the service only returns some dummy data and doesn't invoke other services.</p>
<p><img alt="" src="../images/lab5.png" /></p>
<h2 id="step-1-create-quarkus-project">Step 1: Create Quarkus Project<a class="headerlink" href="#step-1-create-quarkus-project" title="Permanent link">&para;</a></h2>
<p>Let's start by creating a new Quarkus project with a synchronous REST endpoint. Invoke the following command the Cloud Shell.</p>
<blockquote>
<p>See <a href="../known-issues/known-issues/">Known Issues</a> with Quarkus</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> ~/cloud-native-starter/reactive
mvn io.quarkus:quarkus-maven-plugin:1.7.0.Final:create <span class="se">\</span>
    -DprojectGroupId<span class="o">=</span>org.acme <span class="se">\</span>
    -DprojectArtifactId<span class="o">=</span>rest-json-quickstart <span class="se">\</span>
    -DclassName<span class="o">=</span><span class="s2">&quot;org.acme.rest.json.FruitResource&quot;</span> <span class="se">\</span>
    -Dpath<span class="o">=</span><span class="s2">&quot;/fruits&quot;</span> <span class="se">\</span>
    -Dextensions<span class="o">=</span><span class="s2">&quot;resteasy-jsonb&quot;</span>
</code></pre></div>
<p>To better understand which files have been created, run the same command locally and explore the generated code via the editor of your choice.</p>
<h2 id="step-2-test-the-synchronous-endpoint">Step 2: Test the synchronous Endpoint<a class="headerlink" href="#step-2-test-the-synchronous-endpoint" title="Permanent link">&para;</a></h2>
<p>In order to test the synchronous endpoint which has been created with the command above, run these commands in one terminal in the Cloud Shell.</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> ~/cloud-native-starter/reactive/rest-json-quickstart
./mvnw compile quarkus:dev
</code></pre></div>
<p>Open a second terminal in the Cloud Shell and invoke the following command.</p>
<div class="highlight"><pre><span></span><code>curl http://localhost:8080/fruits
</code></pre></div>
<p>You should see the following response.</p>
<p><img alt="new-project1" src="../images/new-project1.png" /></p>
<p>The implementation of the synchronous endpoint is in the class <a href="https://github.com/nheidloff/workshop-quarkus-openshift-reactive-endpoints/blob/master/finish/rest-json-quickstart/src/main/java/org/acme/rest/json/FruitResource.java">FruitResource.java</a>. The annotations @Path, @Get and @Produces are used to define the endpoint via <a href="https://en.wikipedia.org/wiki/Java_API_for_RESTful_Web_Services">JAX-RS</a>. To learn more about synchronous endpoints, check out the <a href="https://quarkus.io/guides/rest-json">Quarkus guide</a>.</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> ~/cloud-native-starter/reactive/rest-json-quickstart/src/main/java/org/acme/rest/json/
cat FruitResource.java
</code></pre></div>
<p><img alt="new-project2" src="../images/new-project2.png" /></p>
<h2 id="step-3-create-classes-article-and-articleresource">Step 3: Create Classes Article and ArticleResource<a class="headerlink" href="#step-3-create-classes-article-and-articleresource" title="Permanent link">&para;</a></h2>
<p>Next let's create a reactive endpoint. We need a new class <code>'ArticleResource.java'</code> and a class <code>'Article.java'</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> ~/cloud-native-starter/reactive/rest-json-quickstart/src/main/java/org/acme/rest/json/
touch Article.java
touch ArticleResource.java
nano Article.java
</code></pre></div>
<p>Add the following code to <code>'Article.java'</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">org.acme.rest.json</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Article</span> <span class="p">{</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="n">title</span><span class="p">;</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="n">url</span><span class="p">;</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="n">author</span><span class="p">;</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="n">id</span><span class="p">;</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="n">creationDate</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p><img alt="reactive3" src="../images/reactive3.png" /></p>
<p>Exit the Editor via 'Ctrl-X', 'y' and 'Enter'.</p>
<p>Modify the ArticleResource class via nano and add the following skeleton. The complete source is in the <a href="https://github.com/nheidloff/workshop-quarkus-openshift-reactive-endpoints/blob/master/finish/rest-json-quickstart/src/main/java/org/acme/rest/json/ArticleResource.java">GitHub repo</a>.</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> ~/cloud-native-starter/reactive/rest-json-quickstart/src/main/java/org/acme/rest/json/
nano ArticleResource.java
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">org.acme.rest.json</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.GET</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.Path</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.Produces</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.inject.Inject</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.json.JsonArray</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.json.stream.JsonCollectors</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletableFuture</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.json.Json</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.json.JsonObject</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="p">;</span>

<span class="nd">@Path</span><span class="p">(</span><span class="s">&quot;/articles&quot;</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ArticleResource</span> <span class="p">{</span>

    <span class="nd">@GET</span>
    <span class="nd">@Produces</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON</span><span class="p">)</span>
    <span class="kd">public</span> <span class="n">CompletionStage</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span> <span class="nf">getArticles</span><span class="p">()</span> <span class="p">{</span>

        <span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span> <span class="n">future</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span><span class="p">();</span>

        <span class="n">CompletableFuture</span><span class="p">.</span><span class="na">supplyAsync</span><span class="p">(()</span> <span class="o">-&gt;</span> <span class="p">{</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">Article</span><span class="o">&gt;</span> <span class="n">articles</span> <span class="o">=</span> <span class="n">getSampleArticles</span><span class="p">();</span>
            <span class="k">return</span> <span class="n">articles</span><span class="p">;</span>
        <span class="p">}).</span><span class="na">thenApply</span><span class="p">(</span><span class="n">articles</span> <span class="o">-&gt;</span> <span class="p">{</span>
            <span class="n">JsonArray</span> <span class="n">articlesAsJson</span><span class="p">;</span>
            <span class="n">articlesAsJson</span> <span class="o">=</span> <span class="n">articles</span>
                                <span class="p">.</span><span class="na">stream</span><span class="p">()</span>
                                <span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">article</span> <span class="o">-&gt;</span> <span class="n">createJsonArticle</span><span class="p">(</span><span class="n">article</span><span class="p">))</span>
                                <span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">JsonCollectors</span><span class="p">.</span><span class="na">toJsonArray</span><span class="p">());</span>

            <span class="k">return</span> <span class="n">Response</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="n">articlesAsJson</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
        <span class="p">}).</span><span class="na">whenComplete</span><span class="p">((</span><span class="n">response</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">{</span>
            <span class="n">future</span><span class="p">.</span><span class="na">complete</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
        <span class="p">});</span>
        <span class="k">return</span> <span class="n">future</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">static</span> <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Article</span><span class="o">&gt;</span> <span class="nf">getSampleArticles</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Article</span><span class="o">&gt;</span> <span class="n">articles</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Article</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="n">Article</span> <span class="n">article</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Article</span><span class="p">();</span>
        <span class="n">article</span><span class="p">.</span><span class="na">author</span> <span class="o">=</span> <span class="s">&quot;Niklas Heidloff&quot;</span><span class="p">;</span>
        <span class="n">article</span><span class="p">.</span><span class="na">title</span> <span class="o">=</span> <span class="s">&quot;Super awesome article&quot;</span><span class="p">;</span>
        <span class="n">article</span><span class="p">.</span><span class="na">url</span> <span class="o">=</span> <span class="s">&quot;http://heidloff.net&quot;</span><span class="p">;</span>
        <span class="n">article</span><span class="p">.</span><span class="na">id</span> <span class="o">=</span> <span class="s">&quot;1&quot;</span><span class="p">;</span>
        <span class="n">article</span><span class="p">.</span><span class="na">creationDate</span> <span class="o">=</span> <span class="k">new</span> <span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">Date</span><span class="p">().</span><span class="na">toString</span><span class="p">();</span>
        <span class="n">articles</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">article</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">articles</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">static</span> <span class="kd">public</span> <span class="n">JsonObject</span> <span class="nf">createJsonArticle</span><span class="p">(</span><span class="n">Article</span> <span class="n">article</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Json</span><span class="p">.</span><span class="na">createObjectBuilder</span><span class="p">()</span>
                <span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;id&quot;</span><span class="p">,</span> <span class="n">article</span><span class="p">.</span><span class="na">id</span><span class="p">)</span>
                <span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;title&quot;</span><span class="p">,</span> <span class="n">article</span><span class="p">.</span><span class="na">title</span><span class="p">)</span>
                <span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;url&quot;</span><span class="p">,</span> <span class="n">article</span><span class="p">.</span><span class="na">url</span><span class="p">)</span>
                <span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;author&quot;</span><span class="p">,</span> <span class="n">article</span><span class="p">.</span><span class="na">author</span><span class="p">)</span>
                <span class="p">.</span><span class="na">build</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><img alt="reactive1" src="../images/reactive1.png" /></p>
<p>Exit the Editor via 'Ctrl-X', 'y' and 'Enter'.</p>
<h2 id="step-4-test-the-reactive-endpoint">Step 4: Test the reactive Endpoint<a class="headerlink" href="#step-4-test-the-reactive-endpoint" title="Permanent link">&para;</a></h2>
<p>In order to test the reactive endpoint, run these commands in one terminal in the Cloud Shell.</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> ~/cloud-native-starter/reactive/rest-json-quickstart/
./mvnw compile quarkus:dev
</code></pre></div>
<p>Open a second terminal in the Cloud Shell and invoke the following command.</p>
<div class="highlight"><pre><span></span><code>curl http://localhost:8080/articles
</code></pre></div>
<p>You should see the following response.</p>
<p><img alt="reactive2" src="../images/reactive2.png" /></p>
<h3 id="step-5-understand-the-basic-implementation">Step 5: Understand the basic Implementation<a class="headerlink" href="#step-5-understand-the-basic-implementation" title="Permanent link">&para;</a></h3>
<p>Now the big question is: How does the reactive endpoint work??? Let's go through the code line by line.</p>
<p>Reactive endpoints use the same JAX-RS annotations <code>'@Path'</code>, <code>'@Get'</code> and <code>'@Produces'</code> as synchronous endpoints.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Path</span><span class="p">(</span><span class="s">&quot;/articles&quot;</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ArticleResource</span> <span class="p">{</span>

    <span class="nd">@GET</span>
    <span class="nd">@Produces</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON</span><span class="p">)</span>
    <span class="kd">public</span> <span class="n">CompletionStage</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span> <span class="nf">getArticles</span><span class="p">()</span> <span class="p">{</span>
</code></pre></div>
<p>The key difference is the return type. Rather than returning a <a href="https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/Response.html">Response</a> object, a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html">CompletionStage</a> with a Response object is returned.</p>
<p>The <code>CompletionStage</code> is returned immediately, so that the thread is not blocked. Only when it's completed, a <code>callback</code> is invoked which contains the actual response.</p>
<p>To demonstrate this behavior better, a <code>[CompletableFuture](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html)</code> instance is created and returned. <code>CompletableFuture</code> is an implementation of the <code>CompletionStage</code> instance. Once the asynchronous code has been completed, a method <code>'complete'</code> is invoked on the <code>CompletableFuture</code> object.</p>
<p>The static method 'CompletableFuture.supplyAsync()'` returns a list of sample articles asynchronously for demo purposes. In this case only one sample article is returned.</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="n">CompletionStage</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span> <span class="nf">getArticles</span><span class="p">()</span> <span class="p">{</span>

        <span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span> <span class="n">future</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span><span class="p">();</span>

        <span class="n">CompletableFuture</span><span class="p">.</span><span class="na">supplyAsync</span><span class="p">(()</span> <span class="o">-&gt;</span> <span class="p">{</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">Article</span><span class="o">&gt;</span> <span class="n">articles</span> <span class="o">=</span> <span class="n">getSampleArticles</span><span class="p">();</span>
            <span class="k">return</span> <span class="n">articles</span><span class="p">;</span>
        <span class="p">}).</span><span class="na">thenApply</span><span class="p">(</span><span class="n">articles</span> <span class="o">-&gt;</span> <span class="p">{</span>
           <span class="p">...</span>
        <span class="p">}).</span><span class="na">whenComplete</span><span class="p">((</span><span class="n">response</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">{</span>
            <span class="n">future</span><span class="p">.</span><span class="na">complete</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
        <span class="p">});</span>
        <span class="k">return</span> <span class="n">future</span><span class="p">;</span>
    <span class="p">}</span>
</code></pre></div>
<p>The <code>CompletionStage</code> interface has several methods. Most of them return CompletionStages again. This allows chaining method invocations as done in the sample code. As input parameters functions are passed in via <code>[Java Lambda](https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/Lambda-QuickStart/index.html)</code>.</p>
<p>The method <code>'whenComplete'</code> is triggered after the asynchronous methods have been completed.</p>
<p>Another method of CompletionStage is <code>'thenApply'</code>. This method is invoked after the previous asynchronous methods have been completed. The method can be used, for example, to convert data. In the sample code the list of articles is converted in two steps. First the list of article is converted into a JSON array and then the array is converted into a Response object.</p>
<p>The methods <code>'stream'</code> and <code>'map'</code> are only used for the conversion and not related to reactive programming.</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="n">CompletionStage</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span> <span class="nf">getArticles</span><span class="p">()</span> <span class="p">{</span>

        <span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span> <span class="n">future</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span><span class="p">();</span>

        <span class="n">CompletableFuture</span><span class="p">.</span><span class="na">supplyAsync</span><span class="p">(()</span> <span class="o">-&gt;</span> <span class="p">{</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">Article</span><span class="o">&gt;</span> <span class="n">articles</span> <span class="o">=</span> <span class="n">getSampleArticles</span><span class="p">();</span>
            <span class="k">return</span> <span class="n">articles</span><span class="p">;</span>
        <span class="p">}).</span><span class="na">thenApply</span><span class="p">(</span><span class="n">articles</span> <span class="o">-&gt;</span> <span class="p">{</span>
            <span class="n">JsonArray</span> <span class="n">articlesAsJson</span><span class="p">;</span>
            <span class="n">articlesAsJson</span> <span class="o">=</span> <span class="n">articles</span>
                                <span class="p">.</span><span class="na">stream</span><span class="p">()</span>
                                <span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">article</span> <span class="o">-&gt;</span> <span class="n">createJsonArticle</span><span class="p">(</span><span class="n">article</span><span class="p">))</span>
                                <span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">JsonCollectors</span><span class="p">.</span><span class="na">toJsonArray</span><span class="p">());</span>

            <span class="k">return</span> <span class="n">Response</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="n">articlesAsJson</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
        <span class="p">}).</span><span class="na">whenComplete</span><span class="p">((</span><span class="n">response</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">{</span>
            <span class="n">future</span><span class="p">.</span><span class="na">complete</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
        <span class="p">});</span>
        <span class="k">return</span> <span class="n">future</span><span class="p">;</span>
    <span class="p">}</span>
</code></pre></div>
<h2 id="step-6-understand-exception-handling">Step 6: Understand Exception Handling<a class="headerlink" href="#step-6-understand-exception-handling" title="Permanent link">&para;</a></h2>
<p>In the same way exceptions and errors can occur for synchronous code, they can happen for asychronous code as well.</p>
<p>However the way to handle them is quite different. When invoking asynchronous methods exceptions cannot be handled via <code>'catch'</code> as usual. Instead the method <code>'exceptionally'</code> of the interface <code>CompletionStage</code> is used.</p>
<p>The code below should give you an idea how to handle exceptions. To find out more, read the blog <a href="http://heidloff.net/article/developing-reactive-rest-apis-with-quarkus/">Chained asynchronous Invocations and Error Handling</a>.</p>
<p>If you want to try out <code>'exceptionally'</code> uncomment the line where the InvalidInputParameter exception is thrown.</p>
<div class="highlight"><pre><span></span><code>    <span class="nd">@GET</span>
    <span class="nd">@Produces</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON</span><span class="p">)</span>
    <span class="kd">public</span> <span class="n">CompletionStage</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span> <span class="nf">getArticles</span><span class="p">()</span> <span class="p">{</span>

        <span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span> <span class="n">future</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="n">CompletableFuture</span><span class="p">.</span><span class="na">supplyAsync</span><span class="p">(()</span> <span class="o">-&gt;</span> <span class="p">{</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">Article</span><span class="o">&gt;</span> <span class="n">articles</span> <span class="o">=</span> <span class="n">getSampleArticles</span><span class="p">();</span>
            <span class="k">return</span> <span class="n">articles</span><span class="p">;</span>
        <span class="p">}).</span><span class="na">thenApply</span><span class="p">(</span><span class="n">articles</span> <span class="o">-&gt;</span> <span class="p">{</span>
            <span class="n">JsonArray</span> <span class="n">articlesAsJson</span><span class="p">;</span>
            <span class="n">articlesAsJson</span> <span class="o">=</span> <span class="n">articles</span>
                                <span class="p">.</span><span class="na">stream</span><span class="p">()</span>
                                <span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">article</span> <span class="o">-&gt;</span> <span class="n">createJsonArticle</span><span class="p">(</span><span class="n">article</span><span class="p">))</span>
                                <span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">JsonCollectors</span><span class="p">.</span><span class="na">toJsonArray</span><span class="p">());</span>

            <span class="c1">//if (true) throw new InvalidInputParameter();</span>

            <span class="k">return</span> <span class="n">Response</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="n">articlesAsJson</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
        <span class="p">}).</span><span class="na">exceptionally</span><span class="p">(</span><span class="n">throwable</span> <span class="o">-&gt;</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">throwable</span><span class="p">.</span><span class="na">getCause</span><span class="p">().</span><span class="na">toString</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">InvalidInputParameter</span><span class="p">.</span><span class="na">class</span><span class="p">.</span><span class="na">getName</span><span class="p">()))</span>
                <span class="k">return</span> <span class="n">Response</span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">Response</span><span class="p">.</span><span class="na">Status</span><span class="p">.</span><span class="na">BAD_REQUEST</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
            <span class="k">return</span> <span class="n">Response</span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">Response</span><span class="p">.</span><span class="na">Status</span><span class="p">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
        <span class="p">}).</span><span class="na">whenComplete</span><span class="p">((</span><span class="n">response</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">{</span>
            <span class="n">future</span><span class="p">.</span><span class="na">complete</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
        <span class="p">});</span>
        <span class="k">return</span> <span class="n">future</span><span class="p">;</span>
    <span class="p">}</span>
</code></pre></div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../exercise-01/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Lab 0. Deploy the Application" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Lab 0. Deploy the Application
            </div>
          </div>
        </a>
      
      
        
        <a href="../exercise-03/" class="md-footer__link md-footer__link--next" aria-label="Next: Lab 2. Invoke Endpoints Reactively" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Lab 2. Invoke Endpoints Reactively
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020 IBM Developer
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/ibm" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/ibmdeveloper" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.linkedin.com/company/ibm/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.youtube.com/user/developerworks" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://dev.to/ibmdeveloper" target="_blank" rel="noopener" title="dev.to" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M120.12 208.29c-3.88-2.9-7.77-4.35-11.65-4.35H91.03v104.47h17.45c3.88 0 7.77-1.45 11.65-4.35 3.88-2.9 5.82-7.25 5.82-13.06v-69.65c-.01-5.8-1.96-10.16-5.83-13.06zM404.1 32H43.9C19.7 32 .06 51.59 0 75.8v360.4C.06 460.41 19.7 480 43.9 480h360.2c24.21 0 43.84-19.59 43.9-43.8V75.8c-.06-24.21-19.7-43.8-43.9-43.8zM154.2 291.19c0 18.81-11.61 47.31-48.36 47.25h-46.4V172.98h47.38c35.44 0 47.36 28.46 47.37 47.28l.01 70.93zm100.68-88.66H201.6v38.42h32.57v29.57H201.6v38.41h53.29v29.57h-62.18c-11.16.29-20.44-8.53-20.72-19.69V193.7c-.27-11.15 8.56-20.41 19.71-20.69h63.19l-.01 29.52zm103.64 115.29c-13.2 30.75-36.85 24.63-47.44 0l-38.53-144.8h32.57l29.71 113.72 29.57-113.72h32.58l-38.46 144.8z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.expand"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.bd0b6b67.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.467223ff.min.js"></script>
      
    
  </body>
</html>